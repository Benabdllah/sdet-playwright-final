# ============================================================================
# .npmrc - Ultimative Ultra SDET +++++ Final Version
# ============================================================================
# NPM Configuration f√ºr SDET Automation Framework
#
# üìã PURPOSE:
# - Configure NPM package manager behavior
# - Security settings for dependencies
# - Performance optimization
# - Registry configuration
# - Authentication setup
# - Audit & vulnerability settings
# - Build & install optimization
# - Workspace configuration
#
# üîê IMPORTANT:
# - This file can contain sensitive tokens - add to .gitignore
# - Use environment variables for secrets (${NPM_TOKEN})
# - Enable npm audit for security
# - Configure private registries
# - Set up proper logging levels
#
# ============================================================================
# REGISTRY & AUTHENTICATION
# ============================================================================

# Default NPM Registry
registry=https://registry.npmjs.org/

# Enable strict SSL verification
strict-ssl=true

# Use HTTP2 protocol for better performance
fetch-retry-mintimeout=20000
fetch-retry-maxtimeout=120000
fetch-retries=5
fetch-timeout=120000

# Authentication Token (use environment variable in CI/CD)
# ${NPM_TOKEN} - Set via CI/CD environment variable
# //registry.npmjs.org/:_authToken=${NPM_TOKEN}

# Private Registry Configuration (if using private packages)
# Uncomment and configure if you have private packages
# @mycompany:registry=https://private-registry.example.com/
# //private-registry.example.com/:_authToken=${PRIVATE_REGISTRY_TOKEN}

# GitHub Packages Registry (if using GitHub packages)
# @github:registry=https://npm.pkg.github.com/
# //npm.pkg.github.com/:_authToken=${GITHUB_TOKEN}

# Artifactory Configuration (if using JFrog Artifactory)
# registry=https://artifactory.example.com/artifactory/api/npm/npm/
# //artifactory.example.com/artifactory/api/npm/npm/:_authToken=${ARTIFACTORY_TOKEN}

# ============================================================================
# SECURITY & AUDIT SETTINGS
# ============================================================================

# Enable npm audit on install (security vulnerabilities check)
audit=true

# Audit level: low, moderate, high, critical, none
audit-level=moderate

# Force npm audit to run
audit-registry=true

# Enable offline mode for security-sensitive operations
# offline=false

# ============================================================================
# LOGGING & DEBUGGING
# ============================================================================

# Log Level: silent, error, warn, notice, http, timing, http-detailed, silly
loglevel=notice

# Color output in logs (true/false)
color=true

# Progress bar for downloads
progress=true

# Verbose output (for debugging)
# verbose=false

# Debug mode (logs detailed information)
# debug=false

# ============================================================================
# PERFORMANCE OPTIMIZATION
# ============================================================================

# Maximum HTTP connections (for package downloads)
maxsockets=50

# Parallel download workers
# Higher = faster, but may be limited by registries
fetch-parallel=50

# Install dependencies in parallel
node-gyp=node-gyp

# Use faster npm ci for CI/CD (instead of npm install)
# Recommended in CI/CD pipelines for reproducibility

# Ignore scripts during install (faster, but less safe)
ignore-scripts=false

# Skip the postinstall, prepare scripts
# ignore-scripts=true

# ============================================================================
# INSTALLATION & BUILD SETTINGS
# ============================================================================

# Installation mode: auto (default)
# Use 'npm ci' for exact version matching in CI/CD

# Force all dependencies to be installed from registry
force-registry=false

# Save exact versions when installing
# save-exact=true

# Default save type: prod, dev, optional
save=prod

# Automatically save to package.json
save-prefix=^

# Require version to be included when installing packages
require-version=false

# Fund packages display
fund=true

# Legacy peer deps (for packages with peer dependency conflicts)
legacy-peer-deps=false

# Strict peer deps mode
# strict-peer-deps=false

# ============================================================================
# WORKSPACE CONFIGURATION
# ============================================================================

# Use workspaces for monorepo support
# workspaces=true

# Workspace root
# workspace-root=.

# Install dependencies in workspace root
# Install workspace hoisted dependencies
hoist=true

# ============================================================================
# CACHE CONFIGURATION
# ============================================================================

# Cache directory location
cache=~/.npm

# Cache directory read-only mode
# cache-read-only=false

# Prefer online sources (don't use cache if available online)
prefer-offline=false

# Use only offline cache (fail if package not in cache)
offline=false

# Cache strategy
# cache-strategy=read-write

# ============================================================================
# PROXY & NETWORK SETTINGS
# ============================================================================

# HTTP Proxy (if behind corporate firewall)
# http-proxy=http://proxy.example.com:8080
# https-proxy=https://proxy.example.com:8080

# No Proxy (bypass proxy for certain domains)
# noproxy=localhost,127.0.0.1,example.com

# Custom CA Certificate (for self-signed certificates)
# cafile=/path/to/ca.pem

# ============================================================================
# SCRIPTS & LIFECYCLE
# ============================================================================

# Scripts shell (bash, sh, cmd, powershell)
# Different on Windows vs Unix
# scripts-shell=bash

# Run scripts in shell (for better compatibility)
# For Windows compatibility, may need to set:
# scripts-shell=cmd

# Use npm/yarn for scripts
# npm-run-all compatibility

# ============================================================================
# DEPENDENCY RESOLUTION
# ============================================================================

# Peer dependency mode
# legacy-peer-deps for compatibility with older packages
legacy-peer-deps=false

# Strict peer deps
# strict-peer-deps=false

# Update dependencies to latest
# save-dev for dev dependencies

# Prefer newer package versions
# prefer-newer=false

# Accept different peer deps
# peer-deps-strict=false

# ============================================================================
# GIT CONFIGURATION
# ============================================================================

# Commit message for git commits made by npm
# (when publishing packages, etc.)
message=chore(release): bump to %s

# ============================================================================
# REGISTRY SPECIFIC SETTINGS
# ============================================================================

# NPM Registry specific
registry=https://registry.npmjs.org/
scope=@user
@user:registry=https://registry.npmjs.org/

# Always require email for npm commands
# email=email@example.com

# ============================================================================
# VERSION & ENGINE REQUIREMENTS
# ============================================================================

# Require Node.js version (engine-strict)
engine-strict=true

# Require specific engines (validate in package.json)
# engine-strict will enforce package.json engines field

# ============================================================================
# OPTIONAL & DEPRECATED SETTINGS
# ============================================================================

# Show deprecated warnings
deprecated-warnings=true

# Fetch from registry even if module exists locally
force=false

# Ignore errors (not recommended for production)
ignore-errors=false

# ============================================================================
# CI/CD SPECIFIC SETTINGS
# ============================================================================

# For CI/CD pipelines, uncomment these settings:

# Use npm ci instead of npm install (exact version pinning)
# npm ci is preferred in CI/CD for reproducibility

# Disable progress bar in CI/CD
# progress=false

# Increase timeout for slow networks
fetch-timeout=300000

# Disable scripts in CI/CD if not needed
# ignore-scripts=false

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

# For local development, these are typical settings:

# Save as dev dependency by default
# save-dev=false

# Allow unsafe perm (for development)
unsafe-perm=false

# User (for npm publish)
# _auth=${NPM_TOKEN}

# ============================================================================
# SECURITY & BEST PRACTICES
# ============================================================================

# Always verify SSL certificates (production)
strict-ssl=true

# Audit dependencies on install
audit=true

# Run npm audit automatically
audit-level=moderate

# No git commit hooks in CI/CD
# save-commit=false

# Use https for registry
# (already using https above)

# Verify package signatures (when supported)
# package-lock-integrity=true

# ============================================================================
# EXPERIMENTAL FEATURES
# ============================================================================

# Experimental features (use with caution)
# node-version=16.0.0

# Ultra-fast installation (experimental)
# npm-doppelg√§nger=true

# ============================================================================
# MONOREPO & WORKSPACES
# ============================================================================

# If using workspaces (monorepo):
# workspace-concurrency=4
# workspace-root-context=.

# Hoist common dependencies
hoist=true

# ============================================================================
# SDET-SPECIFIC SETTINGS
# ============================================================================

# Playwright package configuration
# @playwright:registry=https://registry.npmjs.org/

# Cypress package configuration (if using Cypress instead of Playwright)
# @cypress:registry=https://registry.npmjs.org/

# Testing frameworks
# @jest:registry=https://registry.npmjs.org/
# @mocha:registry=https://registry.npmjs.org/

# TypeScript
# @types:registry=https://registry.npmjs.org/

# Optimization for test runners
fetch-parallel=50
fetch-retries=5

# ============================================================================
# NOTES & DOCUMENTATION
# ============================================================================
#
# üìå QUICK REFERENCE:
#
# Key Settings:
#   registry          = NPM registry URL
#   audit             = Enable security audit
#   strict-ssl        = Verify SSL certificates
#   loglevel          = Logging verbosity
#   fetch-timeout     = Download timeout
#   legacy-peer-deps  = Allow old peer deps
#
# Environment Variables:
#   ${NPM_TOKEN}              = NPM authentication token
#   ${GITHUB_TOKEN}           = GitHub authentication
#   ${PRIVATE_REGISTRY_TOKEN} = Private registry token
#
# üîê SECURITY:
#   - Never commit .npmrc with real tokens
#   - Use environment variables for secrets
#   - Enable audit-level=moderate or higher
#   - Use strict-ssl=true in production
#   - Verify SSL certificates always
#
# üìù CI/CD:
#   - Use 'npm ci' instead of 'npm install'
#   - Disable progress bar (progress=false)
#   - Increase timeout for slow networks
#   - Set audit-level appropriately
#   - Use environment variables for tokens
#
# üéØ PERFORMANCE:
#   - Increase fetch-parallel for faster downloads
#   - Use npm ci in CI/CD (faster, more reliable)
#   - Hoist common dependencies with workspace
#   - Cache ~/.npm directory in CI/CD
#   - Use prefer-offline=false for latest packages
#
# üß™ TESTING:
#   - Ensure test dependencies are installed
#   - Use dev dependencies for test tools
#   - Configure proper timeout for downloads
#   - Enable audit for security checks
#
# üìö FURTHER READING:
#   npm config: https://docs.npmjs.com/cli/v8/configuring-npm/npmrc
#   npm ci: https://docs.npmjs.com/cli/ci
#   npm audit: https://docs.npmjs.com/cli/audit
#
# ============================================================================
# TROUBLESHOOTING
# ============================================================================
#
# Issue: Authentication fails
#   Solution: Check NPM_TOKEN environment variable
#            Verify token permissions in npm registry
#            Use 'npm login' to re-authenticate
#
# Issue: Timeout during package download
#   Solution: Increase fetch-timeout value
#            Check network connectivity
#            Try using different registry
#
# Issue: Peer dependency conflicts
#   Solution: Use legacy-peer-deps=true (not recommended)
#            Update packages to compatible versions
#            Check package compatibility matrix
#
# Issue: SSL certificate errors
#   Solution: Verify certificate is valid
#            Check strict-ssl setting
#            Add CA certificate if self-signed
#
# Issue: Package not found
#   Solution: Verify registry URL is correct
#            Check package scope (@user/package)
#            Confirm registry has package published
#
# ============================================================================
# USEFUL COMMANDS
# ============================================================================
#
# View current configuration:
#   npm config list
#   npm config list --long (all settings)
#   npm config get <key>
#
# Set configuration:
#   npm config set <key> <value>
#   npm config set registry https://registry.npmjs.org/
#
# Delete configuration:
#   npm config delete <key>
#
# Verify installations:
#   npm verify
#   npm audit
#   npm ci --prefer-offline
#
# Clear cache:
#   npm cache clean --force
#
# Audit dependencies:
#   npm audit
#   npm audit fix
#   npm audit fix --audit-level=moderate
#
# ============================================================================
# VERSION HISTORY
# ============================================================================
#
# v1.0.0 (2. Januar 2026)
# - Initial comprehensive .npmrc configuration
# - Security best practices
# - Performance optimization
# - CI/CD specific settings
# - Registry configuration
# - Workspace support
# - Comprehensive documentation
# - Troubleshooting guide
# - SDET framework optimizations
#
# ============================================================================
# SDET Framework - NPM Configuration
# Version: 1.0.0
# Purpose: Production-grade NPM configuration
# Generated: 2. Januar 2026
# Status: Production Ready ‚úÖ
# ============================================================================
